ekf_filter_node:
  ros__parameters:

    frequency: 50.0
    sensor_timeout: 0.2
    two_d_mode: false

    publish_tf: true
    publish_acceleration: true
    odom_topic: /odometry/filtered

    transform_time_offset: 0.0
    transform_timeout: 0.2
    print_diagnostics: true
    debug: false

    map_frame: map
    odom_frame: odom
    base_link_frame: base_link
    world_frame: odom

    imu0: /imu/data
    imu0_config: [
      false, false, false,
      true,  true,  true,
      false, false, false,
      true,  true,  true,
      true,  true,  true
    ]
    imu0_differential: false
    imu0_relative: false
    imu0_queue_size: 20
    imu0_remove_gravitational_acceleration: true

    odom0: /rtabmap/odom
    odom0_config: [
      true,  true,  true,
      false, false, false,
      true,  true,  true,
      false, false, false,
      false, false, false
    ]
    odom0_differential: false
    odom0_relative: false
    odom0_queue_size: 20

    # =========================
    # Noise tuning (conservative)
    # =========================
    process_noise_covariance: [
      0.05, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
      0,    0.05, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
      0,    0,    0.08, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
      0,    0,    0,    0.02, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
      0,    0,    0,    0,    0.02, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
      0,    0,    0,    0,    0,    0.05, 0,    0,    0,    0,    0,    0,    0,    0,    0,

      0,    0,    0,    0,    0,    0,    0.05, 0,    0,    0,    0,    0,    0,    0,    0,
      0,    0,    0,    0,    0,    0,    0,    0.05, 0,    0,    0,    0,    0,    0,    0,
      0,    0,    0,    0,    0,    0,    0,    0,    0.05, 0,    0,    0,    0,    0,    0,

      0,    0,    0,    0,    0,    0,    0,    0,    0,    0.02, 0,    0,    0,    0,    0,
      0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0.02, 0,    0,    0,    0,
      0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0.05, 0,    0,    0,

      0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0.02, 0,    0,
      0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0.02, 0,
      0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0.02
    ]
